<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå - ‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≠‡∏á‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ñ‡∏π‡∏Å</title>
    <link rel="stylesheet" href="styles.css">
    <script src="auth.js"></script>
</head>
<body>
    <!-- Amazon-style Header -->
    <header class="amazon-header">
        <a href="index.html" class="logo">MASKRIDER SHOP</a>
        
        <div class="search-bar">
            <select>
                <option>‡∏ó‡∏∏‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</option>
                <option>‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå</option>
                <option>‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤</option>
                <option>‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠</option>
                <option>‡∏ö‡πâ‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏ß‡∏ô</option>
            </select>
            <input id="searchInput" type="text" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤...">
            <button>üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
        </div>
        
        <div class="header-links">
            <a id="accountLink" href="login.html">üë§ ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</a>
            <a id="logoutLink" href="#" style="display:none;">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</a>
            <a href="#" onclick="openCartModal()">üõí ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (<span id="cartCount">0</span>)</a>
            <a href="favorites.html">‚ù§Ô∏è ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÇ‡∏õ‡∏£‡∏î (<span id="favoritesCount">0</span>)</a>
            <a id="adminReportLink" href="login-report.html" style="display:none;">üìä ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</a>
            <a id="adminLink" class="admin-link" href="#" onclick="toggleAdmin()">üîê Admin<span id="adminBadge" class="admin-badge" style="display:none;">ON</span></a>
        </div>
    </header>

    <!-- Navigation Menu -->
    <nav>
        <ul class="head-menu">
            <li><a href="index.html" class="active">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a></li>
            <li><a href="about.html">‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤</a></li>
            <li><a href="services.html">‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</a></li>
            <li><a href="contact.html">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤</a></li>
        </ul>
    </nav>
    
    <!-- Hero Section -->
    <section style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 60px 20px; text-align: center;">
        <h1 style="font-size: 36px; margin-bottom: 20px;">üéâ ‡∏•‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 70%</h1>
        <p style="font-size: 18px; margin-bottom: 30px;">‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏û‡∏¥‡πÄ‡∏®‡∏© ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ!</p>
        <button onclick="openPromoModal()" style="background-color: #ff9900; color: white; padding: 15px 30px; border: none; border-radius: 5px; font-size: 16px; cursor: pointer;">
            ‡∏ä‡πâ‡∏≠‡∏õ‡πÄ‡∏•‡∏¢!
        </button>
    </section>
    
    <!-- Featured Products -->
    <section style="padding: 40px 20px;">
        <h2 style="text-align: center; margin-bottom: 30px; font-size: 28px;"> ü§©‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πÄ‡∏î‡πá‡∏î!ü§©</h2>
        
        <div class="product-grid">
            <div class="product-card" data-fav-id="bandai-kamen-rider-gavv-dx-gavv-driver" data-fav-title="Bandai Kamen Rider Gavv DX Gavv Driver Henshin Belt" data-fav-price="‡∏ø1,200" data-fav-image="s-l1200.jpg">
                <div class="product-image" onclick="openImageModal('s-l1200.jpg', 'Bandai Kamen Rider Gavv DX Gavv Driver Henshin Belt')">
                    <img src="s-l1200.jpg" alt="Bandai Kamen Rider Gavv DX Gavv Driver Henshin Belt" style="width: 100%; height: 100%; object-fit: cover;">
                    <button class="view-image-btn" onclick="event.stopPropagation(); openImageModal('s-l1200.jpg', 'Bandai Kamen Rider Gavv DX Gavv Driver Henshin Belt')">üëÅÔ∏è ‡∏î‡∏π‡∏£‡∏π‡∏õ</button>
                </div>
                <h3 class="product-title">Bandai Kamen Rider Gavv DX Gavv Driver Henshin Belt</h3>
                <div class="product-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (245)</div>
                <div class="product-price">‡∏ø1,200</div>
                <div class="product-stock" data-stock-id="bandai-kamen-rider-gavv-dx-gavv-driver"></div>
                <button class="buy-button" onclick="addToCartById('bandai-kamen-rider-gavv-dx-gavv-driver', 'Bandai Kamen Rider Gavv DX Gavv Driver Henshin Belt', 1200)">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</button>
                <div class="admin-restock" data-admin-restock-id="bandai-kamen-rider-gavv-dx-gavv-driver">
                    <span class="admin-restock-label">‡πÄ‡∏ï‡∏¥‡∏°‡∏™‡∏ï‡πä‡∏≠‡∏Å (‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô)</span>
                    <div class="admin-restock-row">
                        <input class="admin-restock-input" type="number" min="1" step="1" value="1" inputmode="numeric">
                        <button class="admin-restock-btn" type="button" onclick="restockFromCard(this)">‡πÄ‡∏ï‡∏¥‡∏°</button>
                    </div>
                </div>
                <button class="details-button" type="button" onclick="location.href='product.html?id=' + encodeURIComponent(this.closest('.product-card').dataset.favId)">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</button>
                <button class="fav-button" type="button">‚ù§Ô∏è ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÇ‡∏õ‡∏£‡∏î</button>
            </div>
            
            <div class="product-card" data-fav-id="kamen-rider-wizard-mini-driver" data-fav-title="Kamen Rider Wizard Mini Wizard Driver Belt" data-fav-price="‡∏ø550" data-fav-image="s-l1200 (1).jpg">
                <div class="product-image" onclick="openImageModal('s-l1200 (1).jpg', 'Kamen Rider Wizard Mini Wizard Driver Belt')">
                    <img src="s-l1200 (1).jpg" alt="Kamen Rider Wizard Mini Wizard Driver Belt" style="width: 100%; height: 100%; object-fit: cover;">
                    <button class="view-image-btn" onclick="event.stopPropagation(); openImageModal('s-l1200 (1).jpg', 'Kamen Rider Wizard Mini Wizard Driver Belt')">üëÅÔ∏è ‡∏î‡∏π‡∏£‡∏π‡∏õ</button>
                </div>
                <h3 class="product-title">Kamen Rider Wizard Mini Wizard Driver Belt</h3>
                <div class="product-rating">‚≠ê‚≠ê‚≠ê‚≠ê (189)</div>
                <div class="product-price">‡∏ø550</div>
                <div class="product-stock" data-stock-id="kamen-rider-wizard-mini-driver"></div>
                <button class="buy-button" onclick="addToCartById('kamen-rider-wizard-mini-driver', 'Kamen Rider Wizard Mini Wizard Driver Belt', 550)">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</button>
                <div class="admin-restock" data-admin-restock-id="kamen-rider-wizard-mini-driver">
                    <span class="admin-restock-label">‡πÄ‡∏ï‡∏¥‡∏°‡∏™‡∏ï‡πä‡∏≠‡∏Å (‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô)</span>
                    <div class="admin-restock-row">
                        <input class="admin-restock-input" type="number" min="1" step="1" value="1" inputmode="numeric">
                        <button class="admin-restock-btn" type="button" onclick="restockFromCard(this)">‡πÄ‡∏ï‡∏¥‡∏°</button>
                    </div>
                </div>
                <button class="details-button" type="button" onclick="location.href='product.html?id=' + encodeURIComponent(this.closest('.product-card').dataset.favId)">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</button>
                <button class="fav-button" type="button">‚ù§Ô∏è ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÇ‡∏õ‡∏£‡∏î</button>
            </div>
            
            <div class="product-card" data-fav-id="Kamen Rider Build / DX Build Driver" data-fav-title="Kamen Rider Build / DX Build Driver" data-fav-price="‡∏ø1,500" data-fav-image="th-11134207-81zto-mhim18g3z9xfd4.jfif">
                <div class="product-image" onclick="openImageModal('th-11134207-81zto-mhim18g3z9xfd4.jfif', 'Kamen Rider Build / DX Build Driver')">
                    <img src="th-11134207-81zto-mhim18g3z9xfd4.jfif" alt="Kamen Rider Build / DX Build Driver" style="width: 100%; height: 100%; object-fit: cover;">
                    <button class="view-image-btn" onclick="event.stopPropagation(); openImageModal('th-11134207-81zto-mhim18g3z9xfd4.jfif', 'Kamen Rider Build / DX Build Driver')">üëÅÔ∏è ‡∏î‡∏π‡∏£‡∏π‡∏õ</button>
                </div>
                <h3 class="product-title">Kamen Rider Build / DX Build Driver</h3>
                <div class="product-rating">‚≠ê‚≠ê‚≠ê‚≠ê (156)</div>
                <div class="product-price">‡∏ø1,500</div>
                <div class="product-stock" data-stock-id="Kamen Rider Build / DX Build Driver"></div>
                <button class="buy-button" onclick="addToCartById('Kamen Rider Build / DX Build Driver', 'Kamen Rider Build / DX Build Driver', 1500)">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</button>
                <div class="admin-restock" data-admin-restock-id="Kamen Rider Build / DX Build Driver">
                    <span class="admin-restock-label">‡πÄ‡∏ï‡∏¥‡∏°‡∏™‡∏ï‡πä‡∏≠‡∏Å (‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô)</span>
                    <div class="admin-restock-row">
                        <input class="admin-restock-input" type="number" min="1" step="1" value="1" inputmode="numeric">
                        <button class="admin-restock-btn" type="button" onclick="restockFromCard(this)">‡πÄ‡∏ï‡∏¥‡∏°</button>
                    </div>
                </div>
                <button class="details-button" type="button" onclick="location.href='product.html?id=' + encodeURIComponent(this.closest('.product-card').dataset.favId)">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</button>
                <button class="fav-button" type="button">‚ù§Ô∏è ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÇ‡∏õ‡∏£‡∏î</button>
            </div>
            
            <div class="product-card" data-fav-id="HENSHIN BELT DX ZEZTZ DRIVER" data-fav-title="HENSHIN BELT DX ZEZTZ DRIVER" data-fav-price="‡∏ø2,300" data-fav-image="37990_300x300_nocrop.jpg">
                <div class="product-image" onclick="openImageModal('37990_300x300_nocrop.jpg', 'HENSHIN BELT DX ZEZTZ DRIVER')">
                    <img src="37990_300x300_nocrop.jpg" alt="HENSHIN BELT DX ZEZTZ DRIVER" style="width: 100%; height: 100%; object-fit: cover;">
                    <button class="view-image-btn" onclick="event.stopPropagation(); openImageModal('37990_300x300_nocrop.jpg', 'HENSHIN BELT DX ZEZTZ DRIVER')">üëÅÔ∏è ‡∏î‡∏π‡∏£‡∏π‡∏õ</button>
                </div>
                <h3 class="product-title">HENSHIN BELT DX ZEZTZ DRIVER</h3>
                <div class="product-rating">‚≠ê‚≠ê‚≠ê‚≠ê (312)</div>
                <div class="product-price">‡∏ø2,300</div>
                <div class="product-stock" data-stock-id="HENSHIN BELT DX ZEZTZ DRIVER"></div>
                <button class="buy-button" onclick="addToCartById('HENSHIN BELT DX ZEZTZ DRIVER', 'HENSHIN BELT DX ZEZTZ DRIVER', 2300)">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</button>
                <div class="admin-restock" data-admin-restock-id="HENSHIN BELT DX ZEZTZ DRIVER">
                    <span class="admin-restock-label">‡πÄ‡∏ï‡∏¥‡∏°‡∏™‡∏ï‡πä‡∏≠‡∏Å (‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô)</span>
                    <div class="admin-restock-row">
                        <input class="admin-restock-input" type="number" min="1" step="1" value="1" inputmode="numeric">
                        <button class="admin-restock-btn" type="button" onclick="restockFromCard(this)">‡πÄ‡∏ï‡∏¥‡∏°</button>
                    </div>
                </div>
                <button class="details-button" type="button" onclick="location.href='product.html?id=' + encodeURIComponent(this.closest('.product-card').dataset.favId)">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</button>
                <button class="fav-button" type="button">‚ù§Ô∏è ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÇ‡∏õ‡∏£‡∏î</button>
            </div>
            
            <div class="product-card" data-fav-id="sony-a7-iv" data-fav-title="Sony A7 IV" data-fav-price="‡∏ø68,999" data-fav-image="https://via.placeholder.com/250x200/F44336/FFFFFF?text=Sony+A7+IV">
                <div class="product-image" onclick="openImageModal('https://via.placeholder.com/250x200/F44336/FFFFFF?text=Sony+A7+IV', 'Sony A7 IV')">
                    <img src="https://via.placeholder.com/250x200/F44336/FFFFFF?text=Sony+A7+IV" alt="Sony A7 IV" style="width: 100%; height: 100%; object-fit: cover;">
                    <button class="view-image-btn" onclick="event.stopPropagation(); openImageModal('https://via.placeholder.com/250x200/F44336/FFFFFF?text=Sony+A7+IV', 'Sony A7 IV')">üëÅÔ∏è ‡∏î‡∏π‡∏£‡∏π‡∏õ</button>
                </div>
                <h3 class="product-title">Sony A7 IV</h3>
                <div class="product-rating">‚≠ê‚≠ê‚≠ê‚≠ê (98)</div>
                <div class="product-price">‡∏ø68,999</div>
                <div class="product-stock" data-stock-id="sony-a7-iv"></div>
                <button class="buy-button" onclick="addToCartById('sony-a7-iv', 'Sony A7 IV', 68999)">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</button>
                <div class="admin-restock" data-admin-restock-id="sony-a7-iv">
                    <span class="admin-restock-label">‡πÄ‡∏ï‡∏¥‡∏°‡∏™‡∏ï‡πä‡∏≠‡∏Å (‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô)</span>
                    <div class="admin-restock-row">
                        <input class="admin-restock-input" type="number" min="1" step="1" value="1" inputmode="numeric">
                        <button class="admin-restock-btn" type="button" onclick="restockFromCard(this)">‡πÄ‡∏ï‡∏¥‡∏°</button>
                    </div>
                </div>
                <button class="details-button" type="button" onclick="location.href='product.html?id=' + encodeURIComponent(this.closest('.product-card').dataset.favId)">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</button>
                <button class="fav-button" type="button">‚ù§Ô∏è ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÇ‡∏õ‡∏£‡∏î</button>
            </div>
            
            <div class="product-card" data-fav-id="playstation-5" data-fav-title="PlayStation 5" data-fav-price="‡∏ø15,999" data-fav-image="https://via.placeholder.com/250x200/00BCD4/FFFFFF?text=PlayStation+5">
                <div class="product-image" onclick="openImageModal('https://via.placeholder.com/250x200/00BCD4/FFFFFF?text=PlayStation+5', 'PlayStation 5')">
                    <img src="https://via.placeholder.com/250x200/00BCD4/FFFFFF?text=PlayStation+5" alt="PlayStation 5" style="width: 100%; height: 100%; object-fit: cover;">
                    <button class="view-image-btn" onclick="event.stopPropagation(); openImageModal('https://via.placeholder.com/250x200/00BCD4/FFFFFF?text=PlayStation+5', 'PlayStation 5')">üëÅÔ∏è ‡∏î‡∏π‡∏£‡∏π‡∏õ</button>
                </div>
                <h3 class="product-title">PlayStation 5</h3>
                <div class="product-rating">‚≠ê‚≠ê‚≠ê‚≠ê (445)</div>
                <div class="product-price">‡∏ø15,999</div>
                <div class="product-stock" data-stock-id="playstation-5"></div>
                <button class="buy-button" onclick="addToCartById('playstation-5', 'PlayStation 5', 15999)">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</button>
                <div class="admin-restock" data-admin-restock-id="playstation-5">
                    <span class="admin-restock-label">‡πÄ‡∏ï‡∏¥‡∏°‡∏™‡∏ï‡πä‡∏≠‡∏Å (‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô)</span>
                    <div class="admin-restock-row">
                        <input class="admin-restock-input" type="number" min="1" step="1" value="1" inputmode="numeric">
                        <button class="admin-restock-btn" type="button" onclick="restockFromCard(this)">‡πÄ‡∏ï‡∏¥‡∏°</button>
                    </div>
                </div>
                <button class="details-button" type="button" onclick="location.href='product.html?id=' + encodeURIComponent(this.closest('.product-card').dataset.favId)">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</button>
                <button class="fav-button" type="button">‚ù§Ô∏è ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÇ‡∏õ‡∏£‡∏î</button>
            </div>
        </div>
    </section>
    
    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤</h3>
                <ul>
                    <li><a href="#">‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó</a></li>
                    <li><a href="#">‡∏ó‡∏µ‡∏°‡∏á‡∏≤‡∏ô</a></li>
                    <li><a href="#">‡∏£‡πà‡∏ß‡∏°‡∏á‡∏≤‡∏ô‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤</a></li>
                    <li><a href="#">‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</h3>
                <ul>
                    <li><a href="#">‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠</a></li>
                    <li><a href="#">‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏™‡πà‡∏á</a></li>
                    <li><a href="#">‡∏Å‡∏≤‡∏£‡∏Ñ‡∏∑‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</a></li>
                    <li><a href="#">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h3>
                <ul>
                    <li><a href="#">‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå</a></li>
                    <li><a href="#">‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤</a></li>
                    <li><a href="#">‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠</a></li>
                    <li><a href="#">‡∏ö‡πâ‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏ß‡∏ô</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡πÄ‡∏£‡∏≤</h3>
                <ul>
                    <li><a href="#">Facebook</a></li>
                    <li><a href="#">Instagram</a></li>
                    <li><a href="#">Twitter</a></li>
                    <li><a href="#">YouTube</a></li>
                </ul>
            </div>
        </div>
    </footer>
    
    <!-- Image Modal -->
    <div id="imageModal" class="image-modal">
        <video id="imageModalVideo" class="image-modal-video" autoplay muted loop playsinline>
            <source id="imageModalVideoSource" src="video/bg.mp4" type="video/mp4">
        </video>
        <div class="image-modal-content">
            <span class="close-modal" onclick="closeImageModal()">&times;</span>
            <img id="modalImage" src="" alt="">
        </div>
    </div>

    <!-- Promo Modal -->
    <div id="promoModal" class="promo-modal">
        <div class="promo-modal-content">
            <span class="close-modal" onclick="closePromoModal()">&times;</span>
            <h2>üéâ ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©!</h2>
            <p>‡∏•‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 70% ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÉ‡∏´‡∏°‡πà!</p>
            <ul>
                <li>‡∏ã‡∏∑‡πâ‡∏≠‡∏Ñ‡∏£‡∏ö 1000 ‡∏ö‡∏≤‡∏ó ‡∏™‡πà‡∏á‡∏ü‡∏£‡∏µ</li>
                <li>‡∏°‡∏µ‡∏Ç‡∏≠‡∏á‡πÅ‡∏ñ‡∏°‡∏û‡∏¥‡πÄ‡∏®‡∏©</li>
                <li>‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏∂‡∏á‡∏û‡∏≠‡πÉ‡∏à</li>
            </ul>
            <button onclick="closePromoModal()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ä‡πâ‡∏≠‡∏õ‡πÄ‡∏•‡∏¢!</button>
        </div>
    </div>

    <!-- Cart Modal -->
    <div id="cartModal" class="cart-modal">
        <div class="cart-modal-content">
            <span class="close-modal" onclick="closeCartModal()">&times;</span>
            <h2>üõí ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h2>
            <div id="cartItems" class="cart-items">
                <p class="empty-cart">‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤</p>
            </div>
            <div class="cart-total">
                <strong>‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°: <span id="cartTotal">‡∏ø0</span></strong>
            </div>
            <button class="checkout-btn" onclick="checkout()">‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</button>
        </div>
    </div>

    <script>
        // Cart functionality
        let cart = [];

        function getCart() {
            const saved = localStorage.getItem('cart');
            return saved ? JSON.parse(saved) : [];
        }

        function saveCart() {
            localStorage.setItem('cart', JSON.stringify(cart));
        }

        function addToCartById(productId, productName, price) {
            cart = getCart();
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity++;
            } else {
                cart.push({
                    id: productId,
                    name: productName,
                    price: price,
                    quantity: 1
                });
            }

            saveCart();
            updateCart();
            updateStockUI();
            showNotification('‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡πÅ‡∏•‡πâ‡∏ß!');
        }
        
        function removeFromCart(productId) {
            const itemIndex = cart.findIndex(item => item.id === productId);
            
            if (itemIndex !== -1) {
                if (cart[itemIndex].quantity > 1) {
                    cart[itemIndex].quantity--;
                } else {
                    cart.splice(itemIndex, 1);
                }
                updateCart();
                updateStockUI();
                showNotification('‡∏•‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏à‡∏≤‡∏Å‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡πÅ‡∏•‡πâ‡∏ß!');
            }
        }
        
        function updateCart() {
            const cartItems = document.getElementById('cartItems');
            const cartCount = document.getElementById('cartCount');
            const cartTotal = document.getElementById('cartTotal');
            
            if (cart.length === 0) {
                cartItems.innerHTML = '<p class="empty-cart">‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤</p>';
                cartCount.textContent = '0';
                cartTotal.textContent = '‡∏ø0';
                return;
            }
            
            let html = '';
            let total = 0;
            let itemCount = 0;
            
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                itemCount += item.quantity;
                
                html += `
                    <div class="cart-item">
                        <div class="cart-item-info">
                            <h4>${item.name}</h4>
                            <p>‡∏ø${item.price.toLocaleString()}</p>
                        </div>
                        <div class="cart-item-controls">
                            <button class="quantity-btn" onclick='removeFromCart(${JSON.stringify(item.id)})'>-</button>
                            <span class="quantity">${item.quantity}</span>
                            <button class="quantity-btn" onclick='addToCartById(${JSON.stringify(item.id)}, ${JSON.stringify(item.name)}, ${item.price})'>+</button>
                        </div>
                        <div class="cart-item-total">
                            <strong>‡∏ø${itemTotal.toLocaleString()}</strong>
                        </div>
                    </div>
                `;
            });
            
            cartItems.innerHTML = html;
            cartCount.textContent = itemCount;
            cartTotal.textContent = `‡∏ø${total.toLocaleString()}`;
        }
        
        function openCartModal() {
            const modal = document.getElementById('cartModal');
            modal.style.display = 'block';
            document.body.style.overflow = 'hidden';
        }
        
        function closeCartModal() {
            const modal = document.getElementById('cartModal');
            modal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }
        
        function checkout() {
            if (cart.length === 0) {
                showNotification('‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤!');
                return;
            }

            cart.forEach(item => {
                const current = getStock(item.id);
                setStock(item.id, current - item.quantity);
            });
            
            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            showNotification(`‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°: ‡∏ø${total.toLocaleString()}`);
            cart = [];
            updateCart();
            updateStockUI();
            closeCartModal();
        }
        
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }
        
        // Close modal when clicking outside
        window.onclick = function(event) {
            const imageModal = document.getElementById('imageModal');
            const promoModal = document.getElementById('promoModal');
            const cartModal = document.getElementById('cartModal');
            
            if (event.target == imageModal) {
                closeImageModal();
            }
            if (event.target == promoModal) {
                closePromoModal();
            }
            if (event.target == cartModal) {
                closeCartModal();
            }
        }
        
        // Close modal with Escape key
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeImageModal();
                closePromoModal();
                closeCartModal();
            }
        });

        const stockDefaults = {
            'bandai-kamen-rider-gavv-dx-gavv-driver': 1,
            'kamen-rider-wizard-mini-driver': 1,
            'Kamen Rider Build / DX Build Driver': 1,
            'HENSHIN BELT DX ZEZTZ DRIVER': 1,
            'sony-a7-iv': 2,
            'playstation-5': 3
        };

        function getStockKey(productId) {
            return 'stock:' + productId;
        }

        function ensureStockInitialized(productId) {
            const key = getStockKey(productId);
            const existing = localStorage.getItem(key);
            if (existing !== null) return;
            const initial = Object.prototype.hasOwnProperty.call(stockDefaults, productId) ? stockDefaults[productId] : 10;
            localStorage.setItem(key, String(initial));
        }

        function getStock(productId) {
            ensureStockInitialized(productId);
            const raw = localStorage.getItem(getStockKey(productId));
            const num = parseInt(raw || '0', 10);
            return Number.isFinite(num) ? Math.max(0, num) : 0;
        }

        function setStock(productId, value) {
            localStorage.setItem(getStockKey(productId), String(Math.max(0, value)));
        }

        function updateStockUI() {
            const stockEls = document.querySelectorAll('[data-stock-id]');
            stockEls.forEach(el => {
                const id = el.getAttribute('data-stock-id');
                const stock = getStock(id);
                if (stock <= 0) {
                    el.textContent = 'Sold Out';
                    el.classList.add('is-soldout');
                } else {
                    el.textContent = '‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: ' + stock;
                    el.classList.remove('is-soldout');
                }

                const card = el.closest('.product-card');
                const buyBtn = card ? card.querySelector('.buy-button') : null;
                if (buyBtn) {
                    buyBtn.disabled = stock <= 0;
                    if (stock <= 0) {
                        buyBtn.textContent = 'Sold Out';
                    } else {
                        buyBtn.textContent = '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤';
                    }
                }
            });
        }

        const ADMIN_SESSION_KEY = 'admin:isLoggedIn';

        function isAdmin() {
            return localStorage.getItem(ADMIN_SESSION_KEY) === '1';
        }

        function setAdmin(value) {
            localStorage.setItem(ADMIN_SESSION_KEY, value ? '1' : '0');
        }

        function updateAdminUI() {
            const badge = document.getElementById('adminBadge');
            if (badge) badge.style.display = isAdmin() ? 'inline-block' : 'none';

            const restockEls = document.querySelectorAll('[data-admin-restock-id]');
            restockEls.forEach(el => {
                el.style.display = isAdmin() ? 'block' : 'none';
            });
            
            const reportLink = document.getElementById('adminReportLink');
            if (reportLink) reportLink.style.display = isAdmin() ? 'inline-block' : 'none';
        }

        function toggleAdmin() {
            if (isAdmin()) {
                const ok = confirm('‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡πÇ‡∏´‡∏°‡∏î‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô?');
                if (!ok) return;
                setAdmin(false);
                updateAdminUI();
                return;
            }

            if (!window.auth || !window.auth.isAdminUser || !window.auth.isAdminUser()) {
                showNotification('‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ö‡∏±‡∏ç‡∏ä‡∏µ admin ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô');
                return;
            }

            const pass = prompt('‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô admin');
            if (pass === null) return;
            if (window.auth.verifyCurrentUserPassword && window.auth.verifyCurrentUserPassword(String(pass))) {
                setAdmin(true);
                updateAdminUI();
                showNotification('‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÇ‡∏´‡∏°‡∏î‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡πÅ‡∏•‡πâ‡∏ß');
            } else {
                showNotification('‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á');
            }
        }

        function restockFromCard(btn) {
            if (!isAdmin()) {
                showNotification('‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô');
                return;
            }

            const wrap = btn.closest('[data-admin-restock-id]');
            if (!wrap) return;
            const productId = wrap.getAttribute('data-admin-restock-id');
            const input = wrap.querySelector('input');
            const add = parseInt((input && input.value) ? input.value : '0', 10);
            if (!Number.isFinite(add) || add <= 0) {
                showNotification('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á');
                return;
            }

            const current = getStock(productId);
            setStock(productId, current + add);
            updateStockUI();
            showNotification('‡πÄ‡∏ï‡∏¥‡∏°‡∏™‡∏ï‡πä‡∏≠‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢');
        }

        function normalizeText(text) {
            return (text || '').toString().trim().toLowerCase();
        }

        function filterProductsByQuery(query) {
            const q = normalizeText(query);
            const productCards = document.querySelectorAll('.product-grid .product-card');

            productCards.forEach(card => {
                const titleEl = card.querySelector('.product-title');
                const title = normalizeText(titleEl ? titleEl.textContent : '');
                const show = q === '' || title.includes(q);
                card.style.display = show ? '' : 'none';
            });
        }

        // Modal functions
        function openImageModal(imageSrc, imageAlt) {
            const modal = document.getElementById('imageModal');
            const modalImg = document.getElementById('modalImage');
            const video = document.getElementById('imageModalVideo');
            
            modal.style.display = 'block';
            modalImg.src = imageSrc;
            modalImg.alt = imageAlt;
            video.play();
            document.body.style.overflow = 'hidden';
        }

        function closeImageModal() {
            const modal = document.getElementById('imageModal');
            const video = document.getElementById('imageModalVideo');
            
            modal.style.display = 'none';
            video.pause();
            document.body.style.overflow = 'auto';
        }

        function openPromoModal() {
            const modal = document.getElementById('promoModal');
            modal.style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        function closePromoModal() {
            const modal = document.getElementById('promoModal');
            modal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        document.addEventListener('DOMContentLoaded', function() {
            const searchInput = document.getElementById('searchInput');
            if (!searchInput) return;

            searchInput.addEventListener('input', function() {
                filterProductsByQuery(searchInput.value);
            });

            cart = getCart();
            updateCart();
            updateStockUI();
            updateAdminUI();
        });
    </script>
    <script src="favorites.js"></script>
</body>
</html>
